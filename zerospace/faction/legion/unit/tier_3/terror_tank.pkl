amends ".../engine/unit.pkl"
import ".../engine/add_on.pkl" as AddOn
import ".../engine/types.pkl" as $t
import "terror_tank.pkl" as me

name = "Terror Tank"

tags { "massive" }

hexiteCost = 200 
fluxCost = 200
supply = 20
hp = 1500
speed = 450
armorType = "heavy"
stunResist = 75
buildTime = 60

constructingVersion {
  new {
    name = "Terror Tank (Constructing)"
    buildTime = 60
    hp = 1500
  }
}

attacks {
  ["Main Gun"] {
    damage = 38
    cooldown = 0.9
    range = 1300
  }
}

local mainWeapon: String = "\(me.name)'s \(me.attacks["Main Gun"].name)"

hasAddOnType = "turret"
maxAddOns = 4
addOns {
  default {
    fluxCost = 125
    buildTime = 25
    hp = 225
    armorType = "heavy"
  }
  ["Flame Turret"] {
    description = "Each \(name) adds splash damage to \(mainWeapon)"
    attacks { 
      ["Turret Attack"] {
        damage = 25
        cooldown = 2
        bonusPercent = 100
        bonusVsTags { "armor:light" }
        range = 1100
      }
    }
  }
  ["Gatling Gun"] {
    description = "Each \(name) adds +30% attack speed and +250 range to \(mainWeapon)"
    attacks { 
      ["Turret Attack"] {
        damage = 11
        cooldown = 0.5
        range = 1500
      }
    }
  }
  ["Pulseforge Accelerator"] {
    description = "Each \(name) adds +30% attack speed and +250 range to \(mainWeapon)"
  }
  ["Shield Generator"] {
    description = "Each \(name) adds 4 shields charges to the \(me.name). +75 shields for 8 seconds to nearby unit."
  }
}
