module map 
extends "data.pkl"

fixed type = "map"
fixed subtype = map_type

/// what type of game can be played on this map
map_type: MapType = "1v1"
typealias MapType = "1v1" | "2v2" // | "1p"

/// the number of XP towers. currently this must be 2 or 3, with each providng +4.5 or +3 xp/sec respectively
xp_towers: UInt8(isBetween(2,3))

/// how far away flux is from your spawning point
flux_distance: FluxDistance
typealias FluxDistance = "close" | "near" | "medium-far" | "distant"

/// would be nice if we had actual dimensions here, these are the map sizes listed in the ui
size: MapSize = "normal"
typealias MapSize = "small" | "normal" | "large"

/// number of players this map allows, including AI
players: UInt8? = 
  if (type == "1v1") 2 
  else if (type == "2v2") 4
  // else if (type == "1p") 1
  else null
