amends ".../engine/faction/merc.pkl"
import ".../engine/unit/army.pkl" as Army

name = "Marran"
local faction_id = this.slug

talents {
  default { 
    tag { "merc" }
    column = 3
    faction = faction_id
  }
  new {
    name = "Topbar Energy Buff"
    description = "+100% max power, +100% passive power gain"
    level = 1
  }
  new {
    name = "Unit energy regeneration"
    description = "+100% unit energy regeneration"
    level = 2
  }
  new {
    name = "Power from Towers"
    description = "Gain topbar power when holding xp towers (1 power every 10s for each tower)"
    level = 3
  }
  new {
    name = "Shield Explosion"
    description = "Shields explode when depleted. Nearby enemy units take 50 damage and are slowed by 50%. Last 3s, 60s cooldown"
    level = 4
  }
}

passives {
  new {
    name = "Experience Gain"
    description = "+25% passive and tower XP gain"
  }
}

units {
  default { 
    faction = faction_id 
    tag { "merc" }
  }

  new Army { 
    name = "Marran Hover Tank"
    tier = "T1"
    build_count = 2
    hexite_cost = 200
    flux_cost = 0
    supply = 3
    hp = 150
    shields = 150
    armor_type = "medium"
    speed = 700 
    attacks {
      new {
        damage = 11 
        cooldown = 0.6 
        range = 700
        targets { "air"; "ground" }
      }
    }
    passives {
      new {
        name = "Charger Shields"
        description = "Gives shields to nearby units"
      }
    }
  }
  new Army { 
    name = "Marran Sharpshooter"
    tier = "T1"
    build_count = 3
    hexite_cost = 50
    flux_cost = 200
    supply = 3
    hp = 100
    shields = 75
    armor_type = "light"
    speed = 450 
    attacks {
      new {
        damage = 15
        cooldown = 1.0 
        range = 1200
        targets { "air"; "ground" }
      }
    }
    spells {
      new {
        name = "Firing Position"
        cooldown = 45.0
        delay = 0.3 
        description = "45s cooldown. 0.3s to set up. gain 100% range and 50% attack speed against against units in a limited arc. cannot move while in firing position"
      }
    }
  }
  new Army { 
    name = "Marran Charger"
    tier = "T1"
    build_count = 1
    hexite_cost = 100
    flux_cost = 25
    supply = 3
    hp = 250
    shields = 250
    armor_type = "medium"
    speed = 700
    attacks {
      new {
        damage = 3
        cooldown = 0.25
        range = 1200
        targets { "air"; "ground" }
      }
    }
    spells {
      new {
        name = "Unload"
        cooldown = 0.2
        description = "0.2s cooldown. unload troops in targeted area"
      }
    }
  }
  new Army { 
    name = "Marran Badger"
    tier = "T2"
    build_count = 2
    hexite_cost = 125
    flux_cost = 125
    supply = 3
    hp = 225
    shields = 225
    armor_type = "heavy"
    speed = 450
    attacks {
      new {
        damage = 19
        cooldown = 1.5
        range = 1000
        targets { "air"; "ground" }
      }
    }

    notes {
      "does additional 75 aoe damage after hitting same target repeatedly"
    }
  }
  new Army { 
    name = "Marran Halo Tank"
    tier = "T3"
    build_count = 1
    hexite_cost = 100
    flux_cost = 225
    supply = 7
    hp = 350
    shields = 350
    armor_type = "heavy"
    speed = 400
    attacks {
      new {
        damage = 60
        cooldown = 436
        range = 1400
        targets { "ground" }
      }
    }
  }
}

heroes {
  new {
    name = "Hel"
    tier = "Hero"
    hp = 150 
    shields = 150
    speed = 500 
    attacks {
      new {
        damage = 40
        cooldown = 2
        range = 1700
      }
    }
    spells {
      new {
        name = "Shockwave Grenade"
        hotkey = "q"
        cooldown = 15.0
        description = "Fire a grenade that pushes all units away. Enemy units also take 20 damage and are slowed."
      }
      new {
        name = "Stealth"
        hotkey = "w"
        cooldown = 20.0
        description = "Stealth and +50% movement speed for 10s."
      }
      new {
        name = "Snipe"
        hotkey = "e"
        cooldown = 40
        description = "Deal 3x weapon damage after 2s. If the target dies, reduce the next cooldown by half, and permanently increase Hel's sight and weapon range by 50. "
      }
    }
  }
}
